#!/usr/bin/env bash

# Run 'cd /etc/profile.d' in the Windows system and comment out all contents of git-prompt.sh,
# because 'PS1' is generated by _prompt file,so the file is not needed.

# todo:init steps for install prompt
# git_pr='/etc/profile.d/git-prompt.sh'
# if [ -f "$git_pr" ]; then
#   mv "$git_pr" "${git_pr}_bck"
# fi

# and 'git_cpl' only exist in windows, it's used for git command completion
git_cpl='/mingw64/share/git/completion/git-completion.bash'
if [ -f "$git_cpl" ]; then
  source $git_cpl
fi

CURRENT_PATH="$(dirname "${BASH_SOURCE[0]}")/_"
bind -f "${CURRENT_PATH}inputrc" 2>/dev/null #suppress stderr for non-interactive warning

for SOC_FILE in 'prompt' 'history' 'alias'; do
  source ${CURRENT_PATH}${SOC_FILE}
done
